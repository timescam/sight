(function(){function m(a){a:{var b,c=a.length;for(b=0;b<c;b++)if("content-type"===a[b].name.toLowerCase()){a=a[b].value;break a}a=null}return a?a.split(";").shift().split("/").pop().trim():null}function n(a){return(a=/#ft=(\w+)/.exec(a))&&a[1]}function p(a,b,c,d){return-1!=q.indexOf(a)?null:g[b]?b:e[a]||e[d]||e[c]}function r(a,b,c,d){return'document.body.style.fontFamily = "'+a+'";document.body.style.fontSize = "'+b+'";var container = document.querySelector("pre");container.classList.add("'+d+'");hljs.configure({ lineNumbers: '+
c+" });hljs.highlightBlock(container);document.body.style.backgroundColor = getComputedStyle(container).backgroundColor;"}const g={actionscript:["actionscript","as"],apache:["httpd","conf","htaccess"],asciidoc:["asciidoc"],applescript:["applescript"],aspectj:["aspectj","aj"],avrasm:["asm","s"],bash:["sh","bash","zsh","shell"],brainfuck:["bf"],clojure:["clj"],coffeescript:["coffee"],cpp:"c h cc cpp cxx c++ hpp hxx h++".split(" "),cs:["cs"],css:["css"],d:["d","dd","di"],dart:["dart"],delphi:["pas"],
desktop:["desktop"],diff:["diff","patch"],dockerfile:["dockerfile"],dos:["bat","cmd"],elixir:["ex","exs"],erlang:["erl","erlang"],fortran:["f","for","f90","f95"],fsharp:["fs"],gherkin:["feature"],go:["go"],gradle:["gradle"],groovy:["groovy","gvy","gy","gsh"],haml:["haml"],handlebars:["hbs","handlebars"],haskell:["hs"],haxe:["hx","hxml"],http:["http"],ini:["ini"],java:["java","class","fx"],javascript:["js"],json:["json"],julia:["jl"],kotlin:["kt","kts"],less:["less"],lisp:["lsp","lisp","cl","el","scm"],
livescript:["ls"],lua:["lua"],makefile:["Makefile"],markdown:["md","markdown"],nginx:["nginx"],objectivec:["m","mm"],ocaml:["ml"],perl:["pl","pm","perl"],php:["php","phtml","phps"],pig:["pig"],powershell:["ps1","psm1"],python:["py","pyc"],r:["r"],ruby:["rakefile","gemfile","rb"],scala:["scala","scl","sca","scb"],scss:["scss","sass"],smalltalk:["st","sm","sll"],sml:["sml"],sql:["sql"],stylus:["styl"],swift:["swift"],tex:["tex"],typescript:["ts"],vala:["vala","vapi"],vbnet:["vb"],vbscript:["vbs"],vhdl:["vhd",
"vhdl"],xml:"atom rss vsproj csproj build wsdl config xsd plist xib".split(" "),yaml:["yaml"]},q=["htm","html","xml","xhtml","shtml"],k={theme:"sunburst",font:"Inconsolata",fontSize:"medium",lineNumbers:!0};Object.keys(k).forEach(function(a){var b=localStorage.getItem(a)||k[a];localStorage.setItem(a,b)});const e={};for(var l in g)g[l].forEach(function(a){e[a]=l});chrome.webRequest.onCompleted.addListener(function(a){var b=m(a.responseHeaders),c=n(a.url),d=a.url.split("/").pop().split("?").shift().toLowerCase(),
t=d.split(".").pop();if(c=p(b,c,d,t)){b=[{file:"css/reset.css"},{file:"css/main.css"},{file:"css/"+localStorage.getItem("theme")+".css"}];var f=[{file:"js/lib/highlight.js"},{file:"js/languages/"+c+".js"}];/json/.test(c)&&f.push({file:"js/lib/beautify.js"},{code:'var container = document.querySelector("pre");var options = { indent_size: 2 };container.textContent = js_beautify(container.textContent, options);'});f.push({code:r.apply(this,["font","fontSize","lineNumbers"].map(localStorage.getItem.bind(localStorage)).concat(c))});
for(c=0;c<b.length;c++)chrome.tabs.insertCSS(a.tabId,b[c]);(function u(h){h!=f.length&&chrome.tabs.executeScript(a.tabId,f[h],u.bind(null,h+1))})(0)}},{urls:["<all_urls>"],types:["main_frame"]},["responseHeaders"])})();
